!function(a,b){"use strict";b.improcjs=a;var c,d;try{c=c||a||{}}catch(e){c={}}try{d=d||b||{}}catch(e){d={}}"undefined"!=typeof define&&define.amd&&define([],function(){return c}),function(a){a.GaussianBlurFilter=function(){var a=function(a){for(var b=[],c=parseInt(3*a,10),d=0;c>d;d++)b[d]=1/(Math.sqrt(2*Math.PI)*a)*Math.exp(-Math.pow(d-(c-1)/2,2)/(2*Math.pow(a,2)));return b},b=function(a,b,c,d,e,f){var g,h,i,j,k,l=[0,0,0,255],m=d.length>>1;for(g=0;g<d.length;g++)j=d[g],h=0===f?b+g-m:b,i=1===f?c+g-m:c,0>h?h=0:h>=e.width&&(h=e.width-1),0>i?i=0:i>=e.height&&(i=e.height-1),h>=0&&h<e.width&&i>=0&&i<e.height&&(k=a[h][i],l[0]+=k[0]*j,l[1]+=k[1]*j,l[2]+=k[2]*j,l[3]+=k[3]*j);return l},c=function(a,c,d){var e,f,g=[],h=[];for(e=0;e<d.width;e++)for(g[e]=[],f=0;f<d.height;f++)g[e][f]=b(a,e,f,c,d,0);for(e=0;e<d.width;e++)for(h[e]=[],f=0;f<d.height;f++)h[e][f]=b(g,e,f,c,d,1);return h},d=function(a,b){var c,d,e,f=[];for(d=0;d<b.width;d++)for(f[d]=[],e=0;e<b.height;e++)c=4*(e*b.width+d),f[d][e]=[a[c],a[c+1],a[c+2],a[c+3]];return f},e=function(a){var b,c,d,e=a.length,f=a[0].length,g=new Uint8ClampedArray(e*f*4);for(c=0;e>c;c++)for(d=0;f>d;d++)b=4*(d*e+c),g[b]=a[c][d][0],g[b+1]=a[c][d][1],g[b+2]=a[c][d][2],g[b+3]=a[c][d][3];return g},f={sigma:0};this.parameters={sigma:f.sigma},this.processFilter=function(b,g){if(this.parameters.sigma===f.sigma)return b;var h=d(b,g),i=a(this.parameters.sigma),j=c(h,i,g),k=e(j);return k},this.reset=function(){this.parameters={sigma:f.sigma}}}}(c),c.Improc=function(a,b){this.canvas=a,this.ctx=this.canvas.getContext("2d"),this.sourceImageData=null,this.processImage=function(c){b.parameters=c;var d=b.processFilter(this.sourceImageData.data,{width:a.width,height:a.height}),e=this.ctx.createImageData(a.width,a.height);e.data.set(d),this.ctx.putImageData(e,0,0)},this.updateImage=function(c){a.width=c.width,a.height=c.height,this.ctx.drawImage(c,0,0),this.sourceImageData=this.ctx.getImageData(0,0,a.width,a.height),b.reset()}},d.Improc=d.Improc||c.Improc}({},function(){return this}());
//# sourceMappingURL=improc.min.map