{"version":3,"file":"improc.min.js","sources":["?","improc.js"],"names":["exports","global","improcjs","improcjsGlobal","error","define","amd","GaussianBlurFilter","getKernel","sigma","kernel","size","parseInt","i","Math","sqrt","PI","exp","pow","processPoint","bitmap","x","y","rect","direction","k","cox","coy","kernelPoint","m","pixel","raduis","length","width","height","processImage","xConvolution","yConvolution","toBitmap","bytes","index","flattenBitmap","w","h","result","Uint8ClampedArray","this","processFilter","sourceBytes","amount","sourceBitmap","destBitmap","MedianFilter","median","values","sort","a","b","half","floor","rx","ry","r","g","radius","c","ri","NoiseFilter","getNoise","noiseValue","random","max","min","Improc","canvas","filter","ctx","getContext","sourceImageData","res","data","imageData","createImageData","set","putImageData","updateImage","img","drawImage","getImageData"],"mappings":"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"}